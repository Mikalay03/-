using System;
using System.Linq;

public class FieldOfWonders
{
    public static void Main(string[] args)
    {

        Console.WriteLine("Введите слово для угадывания:");
        string guessedWord = Console.ReadLine();
        Console.Clear();

        char[] hiddenWord = HideOriginalWord(guessedWord);

        bool word = false;

        word = FoundWord(hiddenWord, guessedWord);


        Console.WriteLine("Поздравляем! Вы угадали слово: " + guessedWord);
    }


    static char[] HideOriginalWord(string guessedWord)
    {
        char[] hiddenWord = new char[guessedWord.Length];
        for (int i = 0; i < hiddenWord.Length; i++)
        {
            hiddenWord[i] = '*';

        }

        Console.WriteLine(hiddenWord);
        return hiddenWord;
    }

    static bool FoundWord(char[] hiddenWord, string guessedWord)
    {
        bool word = false;
        while (!word)
        {
            Console.WriteLine("Загаданное слово: " + new string(hiddenWord));
            Console.WriteLine("Введите букву:");

            bool a = TrueGuess(hiddenWord, guessedWord);

            word = TrueOrNo(hiddenWord, guessedWord, a);
         
            Console.WriteLine();

        }
        return word;
    }
    static bool TrueGuess(char[] hiddenWord, string guessedWord)
    {
        char guess = Console.ReadKey().KeyChar;
        Console.WriteLine();
        bool a = false;
        for (int i = 0; i < guessedWord.Length; i++)
        {
            if (guessedWord[i] == guess)
            {
                hiddenWord[i] = guess;
                a = true;
            }
        }
        return a;
    }

    static bool TrueOrNo(char [] hiddenWord, string guessedWord ,bool a) 
    {
        
        if (a)
        {
            Console.WriteLine("Верно!");
        }
        else
        {
            Console.WriteLine("Неверно, попробуйте еще раз");
        }
        if (new string(hiddenWord) == guessedWord)
        {
            return true;
        }
        return false;
    }
}
